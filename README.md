# Описание проекта
CLI для обработки деревьев комментариев, которая:
-  Принимает на вход JSON-дерево идентификаторов комментариев
-  Параллельно загружает содержимое комментариев с удаленного API
-  Возвращает обогащенное дерево с текстами комментариев и авторами


Особенности:
-  Асинхронная загрузка комментариев (параллельные запросы)
-  Обработка сложных вложенных структур
-  Корректная обработка ошибок (404, сетевые проблемы)
-  Сохранение исходной структуры дерева

# Описание функций

## fetch_comment(session: aiohttp.ClientSession, comment_id: int) -> Dict[str, str]
- Назначение: Асинхронно получает данные одного комментария по API
  ### Переменные
  - session - aiohttp клиент для HTTP-запросов
  - comment_id - ID запрашиваемого комментария
  ### Логика работы:
  - Формирует URL для запроса
  - Отправляет GET-запрос
  - Обрабатывает возможные ответы:
    - 200: возвращает JSON комментария
    - 404: возвращает заглушку "comment not found"


## collect_comment_ids(tree: Union[Dict, List], ids: Set[int]) -> None
- Назначение: Рекурсивно собирает все ID комментариев из дерева
  ### Переменные
  - tree - входное дерево (словарь или список)
  - ids - множество для накопления ID (модифицируется)

  ### Логика работы:
  - Если передан список:
    - Рекурсивно обрабатывает каждый элемент
  - Если передан словарь:
    - Ищет ключ "id" и добавляет значение в множество
    - Рекурсивно обрабатывает все значения словаря


## enrich_tree(tree: Union[Dict, List], comments_data: Dict[int, Dict[str, str]]) -> Union[Dict, List]:
- Назначение: Вставляет данные в дерево
  ### Переменные
  - **tree** - исходное дерево комментариев
  - comments_data - загруженные данные (результат fetch_all_comments)
  
  ### Логика работы:
  - Рекурсивно обходит дерево:
  - Для списка: 
    - Обрабатывает каждый элемент
  - Для словаря:
    - Если есть "id", добавляет поля из comments_data
    - Иначе рекурсивно обрабатывает значения
    - Сохраняет исходную структуру дерева

## main()
- Назначение: Основная функция для выполнения всего pipeline
  ### Логика работы:
  - Читает JSON из stdin (sys.stdin)
  - Собирает все ID через collect_comment_ids
  - Загружает данные комментариев через fetch_comment
  - Обогащает дерево через enrich_tree
  - Выводит результат в stdout
